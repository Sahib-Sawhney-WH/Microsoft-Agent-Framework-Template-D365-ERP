# =============================================================================
# Microsoft Agent Framework - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env files with real credentials to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration (Required)
# -----------------------------------------------------------------------------
AZURE_OPENAI_ENDPOINT=https://your-openai-instance.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-06-01

# Optional: Azure OpenAI API Key (if not using DefaultAzureCredential)
# AZURE_OPENAI_API_KEY=your-api-key-here

# -----------------------------------------------------------------------------
# Azure Authentication (Required for Azure resources)
# -----------------------------------------------------------------------------
# Azure AD Tenant ID for DefaultAzureCredential
AZURE_TENANT_ID=your-tenant-id

# Optional: Service Principal authentication (for production)
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret

# -----------------------------------------------------------------------------
# Dynamics 365 MCP Server Configuration
# -----------------------------------------------------------------------------
# D365 F&O Environment URL
D365_ENVIRONMENT_URL=https://your-environment.operations.dynamics.com

# OAuth Client ID for D365 MCP
D365_CLIENT_ID=your-d365-client-id
D365_CLIENT_SECRET=your-d365-client-secret

# D365 MCP Server endpoint (usually {environment_url}/mcp)
D365_MCP_ENDPOINT=https://your-environment.operations.dynamics.com/mcp

# -----------------------------------------------------------------------------
# Redis Cache Configuration (Optional - for chat history caching)
# -----------------------------------------------------------------------------
REDIS_HOST=your-redis.redis.cache.windows.net
REDIS_PORT=6380
REDIS_SSL=true
# REDIS_PASSWORD=your-redis-password  # If using password auth instead of Azure AD

# -----------------------------------------------------------------------------
# Azure Data Lake Storage Configuration (Optional - for chat persistence)
# -----------------------------------------------------------------------------
ADLS_ACCOUNT_NAME=yourstorageaccount
ADLS_CONTAINER=chat-history
ADLS_FOLDER=threads

# -----------------------------------------------------------------------------
# Azure Key Vault Configuration (Recommended for production secrets)
# -----------------------------------------------------------------------------
KEY_VAULT_URL=https://your-keyvault.vault.azure.net/

# Secret names in Key Vault (override defaults)
# KV_SECRET_AZURE_OPENAI_KEY=azure-openai-key
# KV_SECRET_D365_CLIENT_SECRET=d365-client-secret
# KV_SECRET_REDIS_PASSWORD=redis-password

# -----------------------------------------------------------------------------
# Observability Configuration
# -----------------------------------------------------------------------------
# OpenTelemetry settings
OTEL_SERVICE_NAME=ai-assistant
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Application Insights (Azure)
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=...

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Rate limiting (requests per minute)
RATE_LIMIT_RPM=30
RATE_LIMIT_ENABLED=true

# Enable prompt injection detection
BLOCK_PROMPT_INJECTION=true

# PII handling (block or redact)
BLOCK_PII=false
REDACT_PII=false

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Server port
PORT=8000

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (disable in production!)
DEBUG=false
